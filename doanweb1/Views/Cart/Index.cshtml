@model doanweb1.DTO.GioHang;
@{
    ViewBag.Title = "Cart";
}
@if (Model != null)
{





    <section class="cart">
        <div class="container">
            <div class="cart-top-wrap">
                <div class="cart-top">
                    <div class="cart-top-cart cart-top-item">
                        <i class="fa-solid fa-cart-shopping cart-top-item"></i>
                    </div>
                    <div class="cart-top-address cart-top-item">
                        <i class="fa-solid fa-location-dot cart-top-item"></i>
                    </div>
                    <div class="cart-top-payment cart-top-item">
                        <i class="fa-solid fa-money-bill cart-top-item"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="cart-content row">
                <div class="cart-content-left col-sm-9">
                    <table>
                        <tr class="info-cart column">
                            <th class="col-sm-2">Sản phẩm</th>
                            <th class="col-sm-2">Tên sản phẩm</th>
                            <th class="col-sm-2">Màu</th>
                            <th class="col-sm-2">Size</th>
                            <th class="col-sm-2">SL</th>
                            <th class="col-sm-2">Thành tiền</th>
                            <th class="col-sm-2">Xóa</th>
                        </tr>
                        
                        @foreach (var item in Model.CardItem)
                        {
                            <tr class="info-cart column">
                                <td><img src="./assets/img/products/items_male/Ao_So_Mi_Khaki_Regular_fit/item02.jpg" alt=""></td>
                                <td><p>@item.name </p></td>
                                <td><img src="./assets/img/products/colors_product/009.png" alt=""></td>
                                <td><p>L</p></td>
                                <td><input type="number" value="1" min="1"></td>
                                <td><p>1.290.000đ</p></td>

                                <button class="btn btn-secondary" onclick="RemoveFromCart(@item.uid)">Remove From Cart</button>
                            </tr>
                        }
                     
                        
                    </table>
                </div>
                <div class="cart-content-right col-sm-3">
                    <table>
                        <tr>
                            <th colspan="2">TỔNG TIỀN</th>
                        </tr>
                        <tr>
                            <td>TỔNG SẢN PHẨM</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>TỔNG TIỀN HÀNG</td>
                            <td><p>@Model?.price</p></td>
                        </tr>
                        <tr>
                            <td>TẠM TÍNH</td>
                            <td><p>@Model?.price</p></td>
                        </tr>
                    </table>
                    <div class="cart-content-right-text">
                        <p>Bạn sẽ được miễn phí ship khi đơn hàng của bạn có tổng giá trị trên 1500.000đ</p>
                        <p>Mua thêm 210.000đ để được miễn phí SHIP</p>
                    </div>
                    <div class="cart-content-right-button">
                        <div class="shoping-continue"><button>Tiếp tục mua sắp</button></div>
                        <div class="thanh-toan"><button>THANH TOÁN</button></div>
                        
                    </div>

                </div>
            </div>
        </div>
    </section>
}
<script>
    const RemoveFromCart = (uid) => {
        fetch(`/Cart/RemoveItem/${uid}`, {
            method: "POST", // *GET, POST, PUT, DELETE, etc.
            

            headers: {
                "Content-Type": "application/json",
                // 'Content-Type': 'application/x-www-form-urlencoded',
            },

        });
    }

</script>